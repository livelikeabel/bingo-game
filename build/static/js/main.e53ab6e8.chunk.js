(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(33)},25:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),c=n.n(o),u=(n(25),n(4)),l=n(3),i=n(7),s=n(1),p=n(19),g=function(e,t,n){return Array(e).fill(null).map(function(){return Array(t).fill(n)})},b=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(p.a)(Array(e).keys()).map(function(e){return e+t})}(e*t,1).shuffle().forEach(function(a,r){var o=Math.floor(r/e),c=r%t;n[o][c]={number:a,checked:!1}}),n};Array.prototype.shuffle=function(){for(var e=this.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),n=[this[t],this[e]];this[e]=n[0],this[t]=n[1]}return this};var f=function(e,t){return t.forEach(function(t){t.forEach(function(t){t.number===e&&(t.checked=!0)})}),t},h=function(e){return{type:"SET_GAME_STATUS",gameStatus:e}},m={gameStatus:!1,block:{size:80,row:5,col:5},player1:{stage:g(5,5,{number:null,checked:!1}),bingoCount:0,turn:!1},player2:{stage:g(5,5,{number:null,checked:!1}),bingoCount:0,turn:!1}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.a)({},m),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAME_STATUS":if(t.gameStatus){var n=e.player1,a=e.player2,r=b(5,5,e.player1.stage),o=b(5,5,e.player2.stage);return Object(s.a)({},e,{gameStatus:t.gameStatus,block:{size:80,row:5,col:5},player1:Object(s.a)({},n,{stage:r,turn:!0}),player2:Object(s.a)({},a,{stage:o})})}if(!t.gameStatus)return Object(s.a)({},m,{player1:{stage:g(5,5,{number:null,checked:!1}),bingoCount:0,turn:!1},player2:{stage:g(5,5,{number:null,checked:!1}),bingoCount:0,turn:!1}});case"CHECK_BLOCK":var c=t.block.number,u=e.player1,l=e.player2;return Object(s.a)({},e,{player1:Object(s.a)({},u,{stage:f(c,u.stage),turn:!u.turn}),player2:Object(s.a)({},l,{stage:f(c,l.stage),turn:!l.turn})});case"SET_BINGO_COUNT":var p=t.player,h=t.bingoCount;return Object(s.a)({},e,Object(i.a)({},p,Object(s.a)({},e[p],{bingoCount:h})));default:return e}},d=Object(l.b)({bingo:y}),k=n(8),E=n(9),v=n(11),O=n(10),C=n(12),_=(n(30),function(e){var t=e.row,n=e.block,a=e.onClickTd;return t.map(function(e,t){var o=e.number,c=e.checked;return r.a.createElement("td",{onClick:o&&a,style:{height:n.size,width:n.size,background:c?"#f6f6f6":""},className:"BingoRow-td",key:t},o)})}),S=(n(31),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(v.a)(this,Object(O.a)(t).call(this,e)))._calculateBingoCount=function(e){var t=n.props,a=t.setBingoCount,r=t.player,o=n._countBingo();e.bingo[r].bingoCount!==o&&a(r,o)},n._checkBingoCompleted=function(){var e=n.props,t=e.bingo,a=e.bingo,r=a.player1,o=a.player2,c=e.player;t[c].bingoCount>=5&&(r.bingoCount===o.bingoCount?alert("\ubb34\uc2b9\ubd80 \uc785\ub2c8\ub2e4 :)"):alert("".concat(c,"\uac00 \ube59\uace0\ub97c \uc644\uc131\ud588\uc2b5\ub2c8\ub2e4!")),n.props.setGameStatus(!1))},n._countBingo=function(){var e=n.props,t=e.bingo[e.player].stage,a=0;return t.forEach(function(e){5===e.filter(function(e){return!0===e.checked}).length&&a++}),t.forEach(function(e,n){var r=0;e.forEach(function(e,a){t[a][n].checked&&r++}),5===r&&a++}),5===t.filter(function(e,n){return!0===t[n][n].checked}).length&&a++,5===t.filter(function(e,n){return!0===t[e.length-(n+1)][n].checked}).length&&a++,a},n._getBlock=function(e,t){var a=n.props,r=a.block,o=r.size,c=r.row,u=r.col,l=a.bingo[a.player].stage,i=n.table.current.getBoundingClientRect(),s=i.top,p=i.left;return e<p||e>p+o*c||t<s||t>s+o*u?null:l[parseInt((t-s)/o)][parseInt((e-p)/o)]},n._handleClickTd=function(e){var t=e.pageX,a=e.pageY,r=n.props;if(!r.bingo[r.player].turn)return alert("\uc798\ubabb\ub41c \ucc28\ub840 \uc785\ub2c8\ub2e4.");var o=n._getBlock(t,a);o&&n.props.checkBlock(o)},n._renderRows=function(){var e=n.props,t=e.player,a=e.bingo,o=e.block;return a[t].stage.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement(_,{row:e,block:o,onClickTd:n._handleClickTd}))})},n.table=r.a.createRef(),n}return Object(C.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e){this._calculateBingoCount(e),this._checkBingoCompleted()}},{key:"render",value:function(){return r.a.createElement("table",{ref:this.table,className:"BingoTable"},r.a.createElement("tbody",null,this._renderRows()))}}]),t}(a.Component)),j={checkBlock:function(e){return{type:"CHECK_BLOCK",block:e}},setBingoCount:function(e,t){return{type:"SET_BINGO_COUNT",player:e,bingoCount:t}},setGameStatus:h},w=Object(u.b)(function(e){var t=e.bingo,n=e.bingo;return{bingo:t,gameStatus:n.gameStatus,block:n.block}},j)(S),B=(n(32),function(e){function t(){return Object(k.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.setGameStatus,n=e.gameStatus,a=e.player1,o=e.player2;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"BIIIIINGO GAME!!!!"),r.a.createElement("button",{onClick:function(){return t(!n)}},n?"RESTART":"START"),r.a.createElement("div",{className:"App-bingoWrapper"},r.a.createElement("div",{style:{opacity:!a.turn&&.3}},r.a.createElement("h3",null,"P1 Bingo Count: ",a.bingoCount),r.a.createElement(w,{player:"player1"})),r.a.createElement("div",{style:{opacity:!o.turn&&.3}},r.a.createElement("h3",null,"P2 Bingo Count: ",o.bingoCount),r.a.createElement(w,{player:"player2"}))))}}]),t}(a.Component)),T={setGameStatus:h},A=Object(u.b)(function(e){var t=e.bingo;return{gameStatus:t.gameStatus,player1:t.player1,player2:t.player2}},T)(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=Object(l.c)(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(u.a,{store:N},r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.e53ab6e8.chunk.js.map